<ion-view view-title="聊天室">
  <ion-content class="padding">
    <div calss="container">
      <a>{{'当前在线:'+onlineUsers}}</a>
      <table class="chat-table">
        <tr ng-repeat="result in datas">
          <td class="chat-name-left">
            {{data.name==result.name||result.hide?"":(result.name)}}<br>
            {{data.name==result.name||result.hide?"":result.date}}
          </td>
          <td ng-class="{'other-line':data.name!=result.name,'chat-line':data.name==result.name}">
            <div class="triangle-left" ng-if="data.name!==result.name"></div>
            <div ng-class="{'chat-bubble-left':data.name!=result.name,'chat-bubble-right':data.name==result.name}">
              {{"&nbsp;&nbsp;"+result.content+"&nbsp;&nbsp;"}}
            </div>
            <div class="triangle-right" ng-if="data.name==result.name"></div>
          </td>
          <td class="chat-name-right" ng-show="data.name==result.name">
            {{result.hide?"":result.name}}<br>
            {{result.hide?"":result.date}}
          </td>
        </tr>
      </table>
      <form name="chatForm" role="form" ng-submit="send()">
        <div class="item item-input-inset">
        <label class="item-input-wrapper">
          <input required type="text" placeholder="内容" ng-model="data.content">
        </label>
                     <input class="button button-small button-positive" type="submit" value="提交" ng-disabled="chatForm.$invalid">
        </div>
      </form>
    </div>
  </ion-content>
</ion-view>
